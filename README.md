 Like many of us, I am extremely sceptical to FHI's new app "Smittestopp". 
 
 I will use this repo to dump all material related to researching this app and it's flaws.
 Feel free to use any of the information you might find here


Content:

### Crash.html
This will cause the application to crash. You'll find the details in the android manifest.

```xml
<activity android:name="com.microsoft.identity.client.BrowserTabActivity" android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.VIEW"/>
                <category android:name="android.intent.category.DEFAULT"/>
                <category android:name="android.intent.category.BROWSABLE"/>
                <data android:scheme="msauthsimulasmittestopp" android:host="something" android:path="/somethingelse"/>
            </intent-filter>
        </activity>
```

## Cloud Storage Account
So this file  holds some interesting information. 
As pointed out by @N0K0 this seems to be default creds for local Azure: https://docs.microsoft.com/en-us/azure/storage/common/storage-use-emulator

```java
 public static final String DEVSTORE_ACCOUNT_KEY = "Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==";
    public static final String DEVSTORE_ACCOUNT_NAME = "devstoreaccount1";
```
Dafuq is this for? Decoded b64 is rubbish `ru9L�O�.Iz [.��TJ�ς:����&E=3�������`

### Manifest Analysis


`Activity (com.microsoft.identity.client.BrowserTabActivity) is not Protected.
[android:exported=true]`

`Broadcast Receiver (no.nordicsemi.android.support.v18.scanner.PendingIntentReceiver) is not Protected.
[android:exported=true] `

`Broadcast Receiver (no.simula.corona.BootCompletedReceiver) is Protected by a permission, but the protection level of the permission should be checked.
Permission: android.permission.RECEIVE_BOOT_COMPLETED
[android:exported=true] `


### Static analysis

App uses SQLite Database and execute raw SQL query. 
Untrusted user input in raw SQL queries can cause SQL Injection. 
Also sensitive information should be encrypted and written to the database. 	

Furthermore, it seems like the app might be using an insecure Random Number Generator. Impact unkown
Ref: files located in `com/microsoft/appcenter/http/HttpClientRetryer.jav` and 
`com/microsoft/azure/storage/RetryExponentialRetry.java`
